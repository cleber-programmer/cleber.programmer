var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||true;descriptor.configurable=true;if("value"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function");}}function _applyDecoratedDescriptor(target,property,decorators,descriptor,context){var desc={};Object['ke'+'ys'](descriptor).forEach(function(key){desc[key]=descriptor[key];});desc.enumerable=!!desc.enumerable;desc.configurable=!!desc.configurable;if('value'in desc||desc.initializer){desc.writable=true;}desc=decorators.slice().reverse().reduce(function(desc,decorator){return decorator(target,property,desc)||desc;},desc);if(context&&desc.initializer!==void 0){desc.value=desc.initializer?desc.initializer.call(context):void 0;desc.initializer=undefined;}if(desc.initializer===void 0){Object['define'+'Property'](target,property,desc);desc=null;}return desc;}Rex(function(_ref){var _dec,_dec2,_class,_desc,_value,_class2;var atom=_ref.atom,memoize=_ref.memoize,radio=_ref.radio;var


Input=(_dec=atom.component('todo-header','header'),_dec2=

atom.event('keypress'),_dec(_class=(_class2=function(){function Input(){_classCallCheck(this,Input);}_createClass(Input,[{key:'action',value:function action(
e){
return /enter/i.test(e.key)&&this.triggerNewItem().clearValue(),this;
}},{key:'clearValue',value:function clearValue()

{
return this.getInput().value='',this;
}},{key:'getInput',value:function getInput()


{
return this.querySelector('input');
}},{key:'triggerNewItem',value:function triggerNewItem()

{
return radio.emit('list:add',this.getInput().value),this;
}}]);return Input;}(),(_applyDecoratedDescriptor(_class2.prototype,'action',[_dec2],Object.getOwnPropertyDescriptor(_class2.prototype,'action'),_class2.prototype),_applyDecoratedDescriptor(_class2.prototype,'getInput',[memoize],Object.getOwnPropertyDescriptor(_class2.prototype,'getInput'),_class2.prototype)),_class2))||_class);



});

Rex(function(_ref2){var _dec3,_dec4,_dec5,_class3,_desc2,_value2,_class4;var atom=_ref2.atom,radio=_ref2.radio,storage=_ref2.storage;var


List=(_dec3=atom.component('todo-list','ul'),_dec4=





atom.attached,_dec5=






atom.detached,_dec3(_class3=(_class4=function(){function List(){_classCallCheck(this,List);}_createClass(List,[{key:'addItem',value:function addItem(item){return storage.set('items',storage.get('items',[]).concat(item)),this.render();}},{key:'build',value:function build(){this.radio=radio(this).on('list:add',this.addItem,this).on('list:refresh',this.render,this);this.render();return this;}},{key:'destroy',value:function destroy()
{
this.radio.drop();
}},{key:'render',value:function render()

{
return this.innerHTML=storage.get('items',[]).map(function(v,i){return'<li is="todo-item" id="'+i+'"></li>';}).join(''),this;
}}]);return List;}(),(_applyDecoratedDescriptor(_class4.prototype,'build',[_dec4],Object.getOwnPropertyDescriptor(_class4.prototype,'build'),_class4.prototype),_applyDecoratedDescriptor(_class4.prototype,'destroy',[_dec5],Object.getOwnPropertyDescriptor(_class4.prototype,'destroy'),_class4.prototype)),_class4))||_class3);



});

Rex(function(_ref3){var _dec6,_dec7,_dec8,_dec9,_dec10,_dec11,_dec12,_class5,_desc3,_value3,_class6;var atom=_ref3.atom,memoize=_ref3.memoize,radio=_ref3.radio,storage=_ref3.storage;var


Item=(_dec6=atom.component('todo-item','li'),_dec7=

atom.event('click','input.toggle'),_dec8=




atom.event('click','button.destroy'),_dec9=






atom.event('dblclick','label'),_dec10=





















atom.attached,_dec11=

















atom.event('blur','input.edit',true),_dec12=
atom.event('change','input.edit'),_dec6(_class5=(_class6=function(){function Item(){_classCallCheck(this,Item);}_createClass(Item,[{key:'completedItem',value:function completedItem(e){return this.classList[e.target.checked?'add':'remove']('completed'),this;}},{key:'destroyItem',value:function destroyItem(){var _this=this;storage.set('items',storage.get('items',[]).filter(function(v,i){return i!=_this.getId();}));radio.emit('list:refresh');return this;}},{key:'editingToggleItem',value:function editingToggleItem(){return this.classList.toggle('editing'),this.focus();}},{key:'focus',value:function focus(){return this.getInput().focus(),this.getInput().setSelectionRange(1024,1025),this;}},{key:'getId',value:function getId(){return this.getAttribute('id');}},{key:'getInput',value:function getInput(){return this.querySelector('input.edit');}},{key:'getValue',value:function getValue(){return storage.get('items',[])[this.getId()];}},{key:'render',value:function render(){this.innerHTML='\n        <div class="view">\n          <input class="toggle" type="checkbox">\n          <label>'+this.getValue()+'</label>\n          <button class="destroy"></button>\n        </div>\n        <input class="edit" value="'+this.getValue()+'">\n      ';return this;}},{key:'save',value:function save(){var _this2=this;storage.set('items',storage.get('items',[]).map(function(v,i){return i==_this2.getId()?_this2.getInput().value:v;}));return this;}},{key:'updateItem',value:function updateItem(
e){
return /enter|undefined/i.test(e.key)&&this.save().editingToggleItem().render();
}}]);return Item;}(),(_applyDecoratedDescriptor(_class6.prototype,'completedItem',[_dec7],Object.getOwnPropertyDescriptor(_class6.prototype,'completedItem'),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,'destroyItem',[_dec8],Object.getOwnPropertyDescriptor(_class6.prototype,'destroyItem'),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,'editingToggleItem',[_dec9],Object.getOwnPropertyDescriptor(_class6.prototype,'editingToggleItem'),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,'getInput',[memoize],Object.getOwnPropertyDescriptor(_class6.prototype,'getInput'),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,'render',[_dec10],Object.getOwnPropertyDescriptor(_class6.prototype,'render'),_class6.prototype),_applyDecoratedDescriptor(_class6.prototype,'updateItem',[_dec11,_dec12],Object.getOwnPropertyDescriptor(_class6.prototype,'updateItem'),_class6.prototype)),_class6))||_class5);



});
//# sourceMappingURL=bootstrap.min.js.map
