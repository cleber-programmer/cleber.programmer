var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};(function(modules,proxy){





_extends(window,{





Rex:function Rex(nameOrModule,module){
module?proxy[nameOrModule]=module:modules.push(nameOrModule);
},





onload:function onload(){
modules.forEach(function(module){return module(proxy);});
}});







})([],new Proxy({'@':{}},{





get:function get(target,name,receiver){
return target['@'][name]||(target['@'][name]=target[name](receiver));
}}));
Rex('always',function(){return(





function(value){return(
function(){return value;});});});
Rex('apply',function(){return(





function(target){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
return target.apply(this,args);});});
Rex('cond',function(){

return function(){for(var _len=arguments.length,chain=Array(_len),_key=0;_key<_len;_key++){chain[_key]=arguments[_key];}
return function(){

var index=-1;

while(++index<chain.length){var _chain$index,_chain$index2;
if((_chain$index=chain[index])[0].apply(_chain$index,arguments))return(_chain$index2=chain[index])[1].apply(_chain$index2,arguments);
}

};
};

});
Rex('contains',function(_ref){var curry=_ref.curry;return(





curry(function(value,target){return(
!/\-1/.test(target.indexOf(value)));}));});
Rex('guid',function(){return(





function(){return(
Math.round(Date.now()*Math.random()).toString(36));});});
var _slicedToArray=function(){function sliceIterator(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[typeof Symbol==='function'?Symbol.iterator:'@@iterator'](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"])_i["return"]();}finally{if(_d)throw _e;}}return _arr;}return function(arr,i){if(Array.isArray(arr)){return arr;}else if((typeof Symbol==='function'?Symbol.iterator:'@@iterator')in Object(arr)){return sliceIterator(arr,i);}else{throw new TypeError("Invalid attempt to destructure non-iterable instance");}};}();var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var radio=_ref.radio,handlers=_ref['radio.handlers'];




_extends(radio,{





emit:function emit(channel){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
for(var _iterator=handlers.entries(),_isArray=Array.isArray(_iterator),_i=0,_iterator=_isArray?_iterator:_iterator[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var _ref4;if(_isArray){if(_i>=_iterator.length)break;_ref4=_iterator[_i++];}else{_i=_iterator.next();if(_i.done)break;_ref4=_i.value;}var _ref2=_ref4;var _ref3=_slicedToArray(_ref2,2);var context=_ref3[0];var proxy=_ref3[1];
for(var _iterator2=proxy[channel],_isArray2=Array.isArray(_iterator2),_i2=0,_iterator2=_isArray2?_iterator2:_iterator2[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var _ref5;if(_isArray2){if(_i2>=_iterator2.length)break;_ref5=_iterator2[_i2++];}else{_i2=_iterator2.next();if(_i2.done)break;_ref5=_i2.value;}var target=_ref5;target.apply(context,JSON.parse(JSON.stringify(args)));}}
return this;
}});



});
Rex('radio.handlers',function(){return(





new Map());});
Rex('radio.proxy',function(_ref){var handlers=_ref['radio.handlers'];





return function(context){
handlers.set(context,new Proxy({},{





get:function get(target,name){
return target[name]||(target[name]=new Set());
}}));


};

});
Rex('radio',function(_ref){var handlers=_ref['radio.handlers'],proxy=_ref['radio.proxy'];





return function radio(context){





if(!(this instanceof radio)){
return new radio(context);
}





proxy(context);




function drop(){
return handlers.get(context).clear(),this;
}




function get(channel){
return handlers.get(context)[channel];
}




function off(channel,target){
return get(channel).delete(target),this;
}




function on(channel,target){
return get(channel).add(target),this;
}




return{drop:drop,off:off,on:on};

};

});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var storage=_ref.storage;





_extends(storage,{
drop:function drop(){





return localStorage.clear(),storage;

}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var storage=_ref.storage;





_extends(storage,{
get:function get(key){var defaultValue=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;





function parse(value){
return /^(\{|\[).+(\]|\})$/.test(value)?JSON.parse(value):value;
}





return parse(localStorage.getItem(key))||defaultValue;

}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var storage=_ref.storage;




_extends(storage,{
remove:function remove(key){




return localStorage.removeItem(key),storage;

}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var storage=_ref.storage;





_extends(storage,{
set:function set(key){var value=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;





function is(value){
return /(object|array)\]$/i.test(Object.prototype.toString.call(value));
}




return localStorage.setItem(key,is(value)?JSON.stringify(value):value),storage;

}});


});
Rex('storage',function(){return(





{});});
Rex('arity',function(_ref){var apply=_ref.apply,curry=_ref.curry;return(





curry(function(length,target){return(
function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return(
{
'0':function _(){return curry.apply(undefined,[target].concat(args));},
'1':function _(a){return curry.apply(undefined,[target].concat(args));},
'2':function _(a,b){return curry.apply(undefined,[target].concat(args));},
'3':function _(a,b,c){return curry.apply(undefined,[target].concat(args));},
'4':function _(a,b,c,d){return curry.apply(undefined,[target].concat(args));}}[
length]);});}));});
Rex('atom',function(){return(





{});});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var atom=_ref.atom,hook=_ref.hook;





_extends(atom,{
attached:function attached(target,prop,descriptor){





function hookCallback(){
setImmediate(this[prop].bind(this));
}






hook.after(target,'attachedCallback',hookCallback);




return descriptor;

}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var atom=_ref.atom,contains=_ref.contains,hook=_ref.hook;





_extends(atom,{
change:function change(){for(var _len=arguments.length,properties=Array(_len),_key=0;_key<_len;_key++){properties[_key]=arguments[_key];}
return function(target,prop,descriptor){





function hookCallback(name,oldValue,newValue){
contains(name,properties)&&this[prop](newValue,oldValue,name);
}





hook.before(target,'attributeChangedCallback',hookCallback);




return descriptor;

};
}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}Rex(function(_ref){var atom=_ref.atom;





_extends(atom,{
component:function component(tagName,extending){
return function(target){





document.registerElement(tagName,_defineProperty({
prototype:_extends(Object.create(HTMLElement.prototype),target.prototype)},
extending?'extends':'',extending));


};
}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var atom=_ref.atom,hook=_ref.hook;






_extends(atom,{
created:function created(target,prop,descriptor){





function hookCallback(){
setImmediate(this[prop].bind(this));
}






hook.after(target,'createdCallback',hookCallback);




return descriptor;

}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var atom=_ref.atom,hook=_ref.hook;






_extends(atom,{
detached:function detached(target,prop,descriptor){





function hookCallback(){
this[prop]();
}






hook.after(target,'detachedCallback',hookCallback);




return descriptor;

}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};Rex(function(_ref){var atom=_ref.atom,hook=_ref.hook;





_extends(atom,{
event:function event(_event){var query=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'*';var bubbling=arguments[2];
return function(target,prop,descriptor){





function action(e){
e.target.matches(query)&&this[prop](e);
}





function hookCreatedCallback(){
this.addEventListener(_event,action.bind(this),bubbling);
}





function hookDetachedCallback(){
this.removeEventListener(_event,action.bind(this),bubbling);
}




hook.after(target,'createdCallback',hookCreatedCallback);




hook.after(target,'detachedCallback',hookDetachedCallback);




return descriptor;

};
}});


});
Rex('_',function(_ref){var guid=_ref.guid;return(






guid());});
Rex('curry.completed',function(_ref){var _=_ref._;return(





function(target){return(
/-1/.test(target.indexOf(_)));});});
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}Rex('curry',function(_ref){var completed=_ref['curry.completed'],mapper=_ref['curry.mapper'],template=_ref['curry.template'],partial=_ref.partial;return(





function(predicate){return(
partial(function curry(feed){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
return mapper(feed,args),completed(feed)?predicate.apply(undefined,_toConsumableArray(feed)):partial(curry,feed);},template(predicate)));});});
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}Rex('curry.mapper',function(_ref){var _=_ref._;return(





function(feed){var args=arguments.length>1&&arguments[1]!==undefined?arguments[1]:[];var index=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;return(
feed.splice.apply(feed,[0,Number.MAX_VALUE].concat(_toConsumableArray(feed.map(function(item){return item==_?args[index++]||_:item;})))));});});
Rex('curry.template',function(_ref){var _=_ref._;return(





function(predicate){return(
Array(predicate.length).toString().split(',').map(function(){return _;}));});});
function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++){arr2[i]=arr[i];}return arr2;}else{return Array.from(arr);}}Rex('flip',function(_ref){var apply=_ref.apply;return(





function(predicate){return(





function(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return(
apply.apply(undefined,[predicate].concat(_toConsumableArray(args.reverse()))));});});});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}Rex(function(_ref){var always=_ref.always,hook=_ref.hook,memoize=_ref.memoize;





_extends(hook,{
after:function after(target,prop,predicate){

(function(method){






_extends(target,_defineProperty({},
prop,function(){
return predicate.apply(this,method.apply(this,arguments)),method.apply(this,arguments);
}));






})(memoize(target[prop]||always()));

;

}});


});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}Rex(function(_ref){var hook=_ref.hook;





_extends(hook,{
before:function before(target,prop,predicate){

(function(method){






_extends(target,_defineProperty({},
prop,function(){
return predicate.apply(this,arguments),method.apply(this,arguments);
}));






})(target[prop]);

}});


});
Rex('hook',function(){return(





{});});
Rex('memoize.decorate',function(_ref){var apply=_ref.apply,flip=_ref.flip,hook=_ref.hook;






return function(target,key,descriptor){





function hookCallback(method){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}
return this['@'+args]||(this['@'+args]=apply.apply(undefined,[method].concat(args)));
}




hook.before(descriptor,'value',flip(hookCallback));





return descriptor;

};

});
Rex('memoize',function(_ref){var decorate=_ref['memoize.decorate'],wrapper=_ref['memoize.wrapper'];





return function(){
return{'1':wrapper,'3':decorate}[arguments.length].apply(this,arguments);
};

});
Rex('memoize.wrapper',function(_ref){var flip=_ref.flip,hook=_ref.hook;






return function(target){
return function(){
return target['@'+arguments]||(target['@'+arguments]=target.apply(this,arguments));
};
};

});
var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key];}}}return target;};function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}Rex('overload',function(_ref){var apply=_ref.apply;






return function(taraget,key,overrid){
(function(method){






_extends(taraget,_defineProperty({},
key,function(){
return apply(overrid.length==arguments.length?overrid:method,arguments);
}));


})(taraget[key]);
};

});
Rex('partial',function(){return(





function(predicate){for(var _len=arguments.length,args=Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}return(
predicate.bind.apply(predicate,[predicate].concat(args)));});});
//# sourceMappingURL=rex.min.js.map
